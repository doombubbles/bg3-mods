new entry "GreatWeaponMaster_BonusDamage"
type "PassiveData"
using "GreatWeaponMaster_BonusDamage"
data "Properties" "IsToggled;ToggledDefaultAddToHotbar;ToggledDefaultOn;Highlighted;Temporary"

new entry "Sharpshooter_AllIn"
type "PassiveData"
using "Sharpshooter_AllIn"
data "Properties" "IsToggled;ToggledDefaultAddToHotbar;ToggledDefaultOn;Highlighted;Temporary"

new entry "ElementalAdept_Acid"
type "PassiveData"
using "ElementalAdept_Acid"
data "Description" "hb47069e8g81a4g4da5ga173g8e8c374b0235"
data "Boosts" "IF(HasDamageDoneForType(DamageType.Acid) and not Self()):DamageBonus(1, Acid);IF(not Self()):IgnoreResistance(Acid,Resistant)"

new entry "ElementalAdept_Cold"
type "PassiveData"
using "ElementalAdept_Cold"
data "Description" "ha0420dd6gce40g4ff0g8a23g66d81df09038"
data "Boosts" "IF(HasDamageDoneForType(DamageType.Cold) and not Self()):DamageBonus(1, Cold);IF(not Self()):IgnoreResistance(Cold,Resistant)"

new entry "ElementalAdept_Fire"
type "PassiveData"
using "ElementalAdept_Fire"
data "Description" "h7bd45a6bgd832g4ae9g8627g6c345762a03e"
data "Boosts" "IF(HasDamageDoneForType(DamageType.Fire) and not Self()):DamageBonus(1, Fire);IF(not Self()):IgnoreResistance(Fire,Resistant)"

new entry "ElementalAdept_Lightning"
type "PassiveData"
using "ElementalAdept_Lightning"
data "Description" "h45de7861g5423g42d2gb026g197e2fb446f1"
data "Boosts" "IF(HasDamageDoneForType(DamageType.Lightning) and not Self()):DamageBonus(1, Lightning);IF(not Self()):IgnoreResistance(Lightning,Resistant)"

new entry "ElementalAdept_Thunder"
type "PassiveData"
using "ElementalAdept_Thunder"
data "Description" "h728add1bg666cg45a7ga08agac57c541c8db"
data "Boosts" "IF(HasDamageDoneForType(DamageType.Thunder) and not Self()):DamageBonus(1, Thunder);IF(not Self()):IgnoreResistance(Thunder,Resistant)"

new entry "ElementalAdept_Force"
type "PassiveData"
data "DisplayName" "h03d9a7ebgdfc9g453bg9b46g9255f4412b1e;2"
data "Description" "hd16cb3eegea54g4bfegbeebg44c779704501;3"
data "DescriptionParams" "1"
data "Icon" "PassiveFeature_ElementalAdept_Force"
data "Properties" "Highlighted"
data "Boosts" "IF(HasDamageDoneForType(DamageType.Force) and not Self()):DamageBonus(1, Force);IF(not Self()):IgnoreResistance(Force,Resistant)"

new entry "ElementalAdept_Necrotic"
type "PassiveData"
data "DisplayName" "h80282be3gdbd7g4032ga512gebb54be47478;2"
data "Description" "hbbae2ce4g2a66g4d15g9008g7b4e79d4a6ed;3"
data "DescriptionParams" "1"
data "Icon" "PassiveFeature_ElementalAdept_Necrotic"
data "Properties" "Highlighted"
data "Boosts" "IF(HasDamageDoneForType(DamageType.Necrotic) and not Self()):DamageBonus(1, Necrotic);IF(not Self()):IgnoreResistance(Necrotic,Resistant)"

new entry "ElementalAdept_Psychic"
type "PassiveData"
data "DisplayName" "h84ab4b22g0d7bg4609g9c5fg6627b21abcfc;2"
data "Description" "h45ab2e0dg876eg40f9g9139g47fbd5452cf7;3"
data "DescriptionParams" "1"
data "Icon" "PassiveFeature_ElementalAdept_Psychic"
data "Properties" "Highlighted"
data "Boosts" "IF(HasDamageDoneForType(DamageType.Psychic) and not Self()):DamageBonus(1, Psychic);IF(not Self()):IgnoreResistance(Psychic,Resistant)"

new entry "ElementalAdept_Radiant"
type "PassiveData"
data "DisplayName" "h06eb8788g4402g4f12g9cf9gbb917f9a4981;2"
data "Description" "h3fe8d652g2b08g4934g99c9g014a8c8d4aef;3"
data "DescriptionParams" "1"
data "Icon" "PassiveFeature_ElementalAdept_Radiant"
data "Properties" "Highlighted"
data "Boosts" "IF(HasDamageDoneForType(DamageType.Radiant) and not Self()):DamageBonus(1, Radiant);IF(not Self()):IgnoreResistance(Radiant,Resistant)"

new entry "ElementalAdept_Poison"
type "PassiveData"
data "DisplayName" "he29f5a05g91b2g41ecg967eg3bc62b2ef429;2"
data "Description" "h915a16a8ge16cg4d7eg8d24g296f25ca401d;3"
data "DescriptionParams" "1"
data "Icon" "PassiveFeature_ElementalAdept_Poison"
data "Properties" "Highlighted"
data "Boosts" "IF(HasDamageDoneForType(DamageType.Poison) and not Self()):DamageBonus(1, Poison);IF(not Self()):IgnoreResistance(Poison,Resistant)"


new entry "PolearmMaster_BonusAttack"
type "PassiveData"
using "PolearmMaster_BonusAttack"
data "Properties" ""


new entry "MetamagicAdept_Passive"
type "PassiveData"
data "DisplayName" "h48eefe2fg517ag4245gaf8ag91154e6d5d47"
data "Description" "h54459ce1g6931g48c2g83a8g91d7f36ed61e"
data "Icon" "SYR_Passive_MetamagicAdept"
data "Properties" "Highlighted"
data "Boosts" "ActionResource(SorceryPoint,3,0)"


new entry "Crusher_Move"
type "PassiveData"
data "DisplayName" "h4b1e2fe9g408ag4160gbe2eg7a1a1bac95b7"
data "Description" "hc06e070eg63a0g4780g8eeeg2119ca5ed15f"
data "Icon" "Action_Smash"
data "Conditions" "HasDamageEffectFlag(DamageFlags.Hit) and TargetSizeEqualOrSmaller(Size.Large) and HasDamageDoneForType(DamageType.Bludgeoning)"
data "Properties" "OncePerTurn;IsToggled;ToggledDefaultOn;Highlighted"
data "StatsFunctors" "IF(HasAttackDamageDoneForType(DamageType.Bludgeoning)):Force(2)"
data "StatsFunctorContext" "OnDamage"

new entry "Crusher_Crit"
type "PassiveData"
data "DisplayName" "hdfbd9a98gbac8g4b0bg8e43g8559c0dce72a"
data "Description" "h4ef05a3fg9655g48b2g8cccga262780e8805"
data "Properties" "Highlighted"
data "Icon" "Action_Smash"
data "Conditions" "HasDamageEffectFlag(DamageFlags.Hit) and HasDamageEffectFlag(DamageFlags.Critical)"
data "StatsFunctors" "IF(HasAttackDamageDoneForType(DamageType.Bludgeoning)):ApplyStatus(CRUSHER_ADVANTAGE,100,2)"
data "StatsFunctorContext" "OnAttack"

new entry "CRUSHER_ADVANTAGE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h21ca1797gf5ebg4c3dga484g37ee4917e9f4"
data "Description" "h95a8c0c4g0ca5g4af8gbd62g5376867ce620"
data "Icon" "Action_Smash"
data "TickType" "StartTurn"
data "Boosts" "Advantage(AttackTarget)"
data "StatusPropertyFlags" "TickingWithSource"


new entry "Piercer_Reroll"
type "PassiveData"
data "DisplayName" "h07a52398gfd65g4cd5ga8e2ga83b223b36ca"
data "Description" "h75aab57fg221cg42a2ga947gbd2bd7a42548"
data "Icon" "Action_PiercingShot"
data "Properties" "Highlighted"
data "Boosts" "IF(AttackingWithPiercingWeapon(context.Source) and not HasStatus('PIERCER_REROLL_BLOCKED',context.Source)):Reroll(Damage, 20, false)"
data "StatsFunctors" "IF(HasAttackDamageDoneForType(DamageType.Piercing)):ApplyStatus(SELF, PIERCER_REROLL_BLOCKED,100,1)"
data "StatsFunctorContext" "OnAttack"

new entry "PIERCER_REROLL_BLOCKED"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h07a52398gfd65g4cd5ga8e2ga83b223b36ca"
data "Description" "h75aab57fg221cg42a2ga947gbd2bd7a42548"
data "Icon" "Action_PiercingShot"
data "StackId" "PIERCER_REROLL_BLOCKED"
data "StatusPropertyFlags" "DisableCombatlog;DisableOverhead;DisablePortraitIndicator"

new entry "Piercer_Crit"
type "PassiveData"
data "DisplayName" "h9339b94fg3b2dg48ffgb28eg3493e23798f1"
data "Description" "h57d54171gf1bbg4332ga773gc91618ab3439"
data "Icon" "Action_PiercingShot"
data "Properties" "Highlighted"
data "Conditions" "HasDamageEffectFlag(DamageFlags.Hit) and HasDamageEffectFlag(DamageFlags.Critical)"
data "StatsFunctors" "IF(HasAttackDamageDoneForType(DamageType.Piercing)):ApplyStatus(GAPING_WOUND,100,2)"
data "StatsFunctorContext" "OnAttack"


new entry "Slasher_Reduce_Speed"
type "PassiveData"
data "DisplayName" "hb4408c84g234dg4b48gb619ge387dc3047e1"
data "Description" "h5d831f22gcf06g4ff5g8217ge9c812e9299f"
data "DescriptionParams" "Distance(3)"
data "Icon" "Action_Slash"
data "Properties" "OncePerTurn;IsToggled;ToggledDefaultOn;Highlighted"
data "Conditions" "HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(IsWeaponAttack() and HasAttackDamageDoneForType(DamageType.Slashing)):ApplyStatus(SLASHER_SLOW,100,2)"
data "StatsFunctorContext" "OnAttack"

new entry "Slasher_Crit"
type "PassiveData"
data "DisplayName" "hc92b1af7g20bbg48d9g9d98ge4c1bc0f05c8"
data "Description" "h1d08c224g71f4g417ag9ce0g05d7b18616cc"
data "Properties" "Highlighted"
data "Icon" "Action_Slash"
data "Conditions" "HasDamageEffectFlag(DamageFlags.Hit) and HasDamageEffectFlag(DamageFlags.Critical)"
data "StatsFunctors" "IF(IsWeaponAttack() and HasAttackDamageDoneForType(DamageType.Slashing)):ApplyStatus(SLASHER_DISADVANTAGE,100,2)"
data "StatsFunctorContext" "OnAttack"

new entry "SLASHER_SLOW"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h7ace5009g2320g433fgae6cg149344fb478c"
data "Description" "hd872ec09ge529g4454g90b2ga8cde3401bc7"
data "DescriptionParams" "Distance(3)"
data "Icon" "Action_Slash"
data "StillAnimationType" "Weakened"
data "StillAnimationPriority" "Weakened"
data "TickType" "StartTurn"
data "Boosts" "ActionResource(Movement,-3,0)"
data "StatusPropertyFlags" "TickingWithSource"
data "ManagedStatusEffectType" "Negative"
data "ManagedStatusEffectGroup" "d787f666-8ee6-4185-9365-6aac9ebe76ae"

new entry "SLASHER_DISADVANTAGE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h50c9cce5g3978g4e65g9efeg53a2d418fd57"
data "Description" "h2eee339cg8e25g4f4dgb3adgb1940b7fd68d"
data "Icon" "Action_Slash"
data "TickType" "StartTurn"
data "Boosts" "Disadvantage(AttackRoll)"
data "StatusPropertyFlags" "TickingWithSource"


new entry "DoubleFistPuncher"
type "PassiveData"
data "DisplayName" "h29e15670g3379g403dg957ega0d49c64992e"
data "Description" "h149cb06dg7bafg45b7g9130g7b18dbebdef8"
data "Icon" "PassiveFeature_KiEmpoweredStrikes"
data "PriorityOrder" "1"
data "Properties" "IsToggled;ToggledDefaultAddToHotbar;ToggledDefaultOn;Highlighted;Temporary"
data "EnabledConditions" "(HasNoMainHand() and HasNoOffHand()) or IsUnarmedWildshape()"
data "EnabledContext" "OnEquip;OnCreate"
data "Boosts" "IF(IsMeleeUnarmedAttack()):RollBonus(MeleeUnarmedAttack, -5);IF(IsMeleeUnarmedAttack()):CharacterUnarmedDamage(10);IF(IsUnarmedWildshape() and IsUnarmedAttack(){{if $.Values.WildshapeDontDoubleDip}} and (IsDamageTypeBludgeoning() or IsDamageTypePiercing() or IsDamageTypeSlashing()){{end}}):DamageBonus(10)"

new entry "HeavyWeaponMaster_BonusAttack"
type "PassiveData"
data "DisplayName" "h6c0ee47dgeff0g4038ga1c8g6b795c11bf7c"
data "Description" "h71faaec3gabf2g45b7g8c95g2bcee85cfb07"
data "Icon" "PassiveFeature_GreatWeaponMaster_BonusAttack"
data "PriorityOrder" "1"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "Character() and (IsKillingBlow() or IsCritical()) and ((IsMeleeWeaponAttack() and HeavyWeaponMasterMelee(context.Source)) or (IsRangedWeaponAttack() and HeavyWeaponMasterRanged(context.Source)))"
data "StatsFunctors" "IF(IsMeleeWeaponAttack()):ApplyStatus(SELF,HEAVY_WEAPON_MASTER_MELEE,100,1);IF(IsRangedWeaponAttack()):ApplyStatus(SELF,HEAVY_WEAPON_MASTER_RANGED,100,1)"

new entry "HeavyWeaponMaster_BonusDamage"
type "PassiveData"
data "DisplayName" "h390901fagec4eg49e4gb2a1gd5865a57f56c"
data "Description" "h249c99dfgacd2g4c2cg98b5gbf0286da7529"
data "Icon" "PassiveFeature_GreatWeaponMaster_BonusAttack"
data "Properties" "Highlighted"
data "Boosts" "IF((HeavyWeaponMasterMelee(context.Source) and not HasPassive('GreatWeaponMaster_BonusDamage',context.Source)) or (HeavyWeaponMasterRanged(context.Source) and not HasPassive('Sharpshooter_AllIn',context.Source))):CharacterWeaponDamage(ProficiencyBonus)"

new entry "HEAVY_WEAPON_MASTER_MELEE"
type "StatusData"
data "StatusType" "BOOST"
using "GREAT_WEAPON_MASTER_BONUS_ATTACK"
data "DisplayName" "h6c0ee47dgeff0g4038ga1c8g6b795c11bf7c"
data "Description" "h921d257fg12d9g4a8aga476g30a42f848250"
data "Boosts" "UnlockSpell(Target_HeavyWeaponMaster_BonusAttack)"
data "RemoveEvents" "OnAttack"
data "RemoveConditions" "SpellId(Target_HeavyWeaponMaster_BonusAttack)"

new entry "HEAVY_WEAPON_MASTER_RANGED"
type "StatusData"
data "StatusType" "BOOST"
using "GREAT_WEAPON_MASTER_BONUS_ATTACK"
data "DisplayName" "h6c0ee47dgeff0g4038ga1c8g6b795c11bf7c"
data "Description" "h921d257fg12d9g4a8aga476g30a42f848250"
data "Icon" "Action_SneakAttack_Ranged"
data "Boosts" "UnlockSpell(Projectile_HeavyWeaponMaster_BonusAttack)"
data "RemoveEvents" "OnAttack"
data "RemoveConditions" "SpellId(Projectile_HeavyWeaponMaster_BonusAttack)"

new entry "Target_HeavyWeaponMaster_BonusAttack"
type "SpellData"
data "SpellType" "Target"
using "Target_MainHandAttack"
data "Icon" "PassiveAction_GreatWeaponMaster_AllIn"
data "DisplayName" "h6c0ee47dgeff0g4038ga1c8g6b795c11bf7c"
data "UseCosts" "BonusActionPoint:1"
data "SpellFlags" "IsMelee;IsHarmful;Temporary"
data "RequirementConditions" "HeavyWeaponMasterMelee()"

new entry "Projectile_HeavyWeaponMaster_BonusAttack"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_MainHandAttack"
data "Icon" "Action_SneakAttack_Ranged"
data "DisplayName" "h6c0ee47dgeff0g4038ga1c8g6b795c11bf7c"
data "UseCosts" "BonusActionPoint:1"
data "SpellFlags" "HasHighGroundRangeExtension;RangeIgnoreVerticalThreshold;IsHarmful;Temporary"
data "RequirementConditions" "HeavyWeaponMasterRanged()"


// Feat Changes

new entry "Rush_Charger_Attack"
type "SpellData"
data "SpellType" "Rush"
using "Rush_Charger_Attack"
data "Cooldown" "OncePerTurnNoRealtime"
data "UseCosts" "ActionPoint:1"

new entry "Rush_Charger_Push"
type "SpellData"
data "SpellType" "Rush"
using "Rush_Charger_Push"
data "Cooldown" "OncePerTurnNoRealtime"
data "Icon" "Action_Charger_Push"
data "UseCosts" "BonusActionPoint:1"

new entry "DungeonDelver_Perception"
type "PassiveData"
using "DungeonDelver_Perception"
data "Boosts" "IF(not Combat()):Advantage(Skill, Perception)"

new entry "DungeonDelver_ResistTraps"
type "PassiveData"
using "DungeonDelver_ResistTraps"
data "Boosts" "IF(not Combat()):Advantage(SavingThrow,Dexterity)"

new entry "MartialAdept"
type "PassiveData"
using "MartialAdept"
data "Description" "h477445fcgb5b3g49ddga7d7gce1ccf30db8b"
data "Boosts" "ActionResource(SuperiorityDie,2,0)"

new entry "Performer"
type "PassiveData"
using "Performer"
data "Description" "hce16c75ag463bg46b1gb44cg5ae80ca06d03"
data "Boosts" "Proficiency(MusicalInstrument);ProficiencyBonus(Skill,Performance)"

new entry "ShieldMaster_PassiveBonuses"
type "PassiveData"
using "ShieldMaster_PassiveBonuses"
data "Boosts" "Proficiency(Shields);IF(HasShieldEquipped() and not HasStatus('SG_Incapacitated')):RollBonus(SavingThrow,2,Dexterity)"

new entry "MediumArmorMaster"
type "PassiveData"
using "MediumArmorMaster"
data "Description" "h58179ab0gf5b0g4912g83a6gf261868791d6"
data "Boosts" "IF(not HasStatus('MAG_EXOTIC_MATERIAL_ARMOR_TECHNICAL', context.Source)):ArmorAbilityModifierCapOverride(Hide, 10);IF(not HasStatus('MAG_EXOTIC_MATERIAL_ARMOR_TECHNICAL', context.Source)):ArmorAbilityModifierCapOverride(ChainShirt, 10);IF(not HasStatus('MAG_EXOTIC_MATERIAL_ARMOR_TECHNICAL', context.Source)):ArmorAbilityModifierCapOverride(ScaleMail, 10);IF(not HasStatus('MAG_EXOTIC_MATERIAL_ARMOR_TECHNICAL', context.Source)):ArmorAbilityModifierCapOverride(BreastPlate, 10);IF(not HasStatus('MAG_EXOTIC_MATERIAL_ARMOR_TECHNICAL', context.Source)):ArmorAbilityModifierCapOverride(HalfPlate, 10)"

new entry "MagicInitiate_Bard"
type "PassiveData"
using "MagicInitiate_Bard"
data "Description" "h360db481ge7e9g4f28g9980g4a82e3178904"
data "ExtraDescription" "h07a5f71bg3280g4407ga64cgd0f605d15b3b"
data "Boosts" ""

new entry "MagicInitiate_Cleric"
type "PassiveData"
using "MagicInitiate_Cleric"
data "Description" "he7aba3d7g32ffg45d7g91d0g701990621265"
data "ExtraDescription" "h07a5f71bg3280g4407ga64cgd0f605d15b3b"
data "Boosts" "ActionResourceOverride(Interrupt_HellishRebukeWarlockMI_Charge,1,0)"

new entry "MagicInitiate_Druid"
type "PassiveData"
using "MagicInitiate_Druid"
data "Description" "hf61c10cdgd965g4f94g87b2gf889fa8a2c13"
data "ExtraDescription" "h07a5f71bg3280g4407ga64cgd0f605d15b3b"
data "Boosts" ""

new entry "MagicInitiate_Sorcerer"
type "PassiveData"
using "MagicInitiate_Sorcerer"
data "Description" "h9345a2e4g971ag4b69gb7a7gc40c190a91ea"
data "ExtraDescription" "h07a5f71bg3280g4407ga64cgd0f605d15b3b"
data "Boosts" ""

new entry "MagicInitiate_Warlock"
type "PassiveData"
using "MagicInitiate_Warlock"
data "Description" "hb61017e6ga33dg4c58gbebegf6a60c77c2bc"
data "ExtraDescription" "h07a5f71bg3280g4407ga64cgd0f605d15b3b"
data "Boosts" ""

new entry "MagicInitiate_Wizard"
type "PassiveData"
using "MagicInitiate_Wizard"
data "Description" "h240b078ag8ddeg4a1fgaff2g052710794fd3"
data "ExtraDescription" "h07a5f71bg3280g4407ga64cgd0f605d15b3b"
data "Boosts" ""